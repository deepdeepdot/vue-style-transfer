<style>
    div#target {
        display: block;
        height: 400px;
        width: 400px;
        background-color: pink;
    }
</style>

<div id="target">You can drag an image file here</div>

<img id="destination">

<script>

    function restyleSize(img, { width, height, reset }) {
        if (width && height) {
            img.style.setProperty('height', height + 'px');
            img.style.setProperty('width', width + 'px');
        }
        else if (height) {
            img.style.setProperty('height', height + 'px');
            img.style.removeProperty('width');
        }
        else if (width) {
            img.style.setProperty('width', width + 'px');
            img.style.removeProperty('height');
        } else if (reset) {
            img.style.removeProperty('width');
            img.style.removeProperty('height');
        }
    }

    function updateImage(file, img, resize) {
        const fileReader = new FileReader();
        fileReader.onload = function (e) {
            img.crossorigin = 'anonymous'; // is this needed?
            img.src = e.target.result;
            restyleSize(img, resize);
        };
        fileReader.readAsDataURL(file);
    }

    const target = document.getElementById('target');
    var img = document.getElementById('destination');

    target.addEventListener('drop', (e) => {
        e.stopPropagation();
        e.preventDefault();

        const files = e.dataTransfer.files;

        updateImage(files[0], img, null);
    });

    // target.addEventListener('dragover', (e) => {
    //     e.stopPropagation();
    //     e.preventDefault();

    //     e.dataTransfer.dropEffect = 'copy';
    // });

</script>